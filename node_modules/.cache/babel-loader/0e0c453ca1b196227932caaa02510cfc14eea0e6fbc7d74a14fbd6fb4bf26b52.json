{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst utils_1 = require(\"../utils\");\nconst debug = (0, utils_1.Debug)(\"AbstractConnector\");\nclass AbstractConnector {\n  constructor(disconnectTimeout) {\n    this.connecting = false;\n    this.disconnectTimeout = disconnectTimeout;\n  }\n  check(info) {\n    return true;\n  }\n  disconnect() {\n    this.connecting = false;\n    if (this.stream) {\n      const stream = this.stream; // Make sure callbacks refer to the same instance\n      const timeout = setTimeout(() => {\n        debug(\"stream %s:%s still open, destroying it\", stream.remoteAddress, stream.remotePort);\n        stream.destroy();\n      }, this.disconnectTimeout);\n      stream.on(\"close\", () => clearTimeout(timeout));\n      stream.end();\n    }\n  }\n}\nexports.default = AbstractConnector;","map":{"version":3,"names":["Object","defineProperty","exports","value","utils_1","require","debug","Debug","AbstractConnector","constructor","disconnectTimeout","connecting","check","info","disconnect","stream","timeout","setTimeout","remoteAddress","remotePort","destroy","on","clearTimeout","end","default"],"sources":["C:/rgraph/node_modules/ioredis/built/connectors/AbstractConnector.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils_1 = require(\"../utils\");\nconst debug = (0, utils_1.Debug)(\"AbstractConnector\");\nclass AbstractConnector {\n    constructor(disconnectTimeout) {\n        this.connecting = false;\n        this.disconnectTimeout = disconnectTimeout;\n    }\n    check(info) {\n        return true;\n    }\n    disconnect() {\n        this.connecting = false;\n        if (this.stream) {\n            const stream = this.stream; // Make sure callbacks refer to the same instance\n            const timeout = setTimeout(() => {\n                debug(\"stream %s:%s still open, destroying it\", stream.remoteAddress, stream.remotePort);\n                stream.destroy();\n            }, this.disconnectTimeout);\n            stream.on(\"close\", () => clearTimeout(timeout));\n            stream.end();\n        }\n    }\n}\nexports.default = AbstractConnector;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,OAAO,GAAGC,OAAO,CAAC,UAAU,CAAC;AACnC,MAAMC,KAAK,GAAG,CAAC,CAAC,EAAEF,OAAO,CAACG,KAAK,EAAE,mBAAmB,CAAC;AACrD,MAAMC,iBAAiB,CAAC;EACpBC,WAAWA,CAACC,iBAAiB,EAAE;IAC3B,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACD,iBAAiB,GAAGA,iBAAiB;EAC9C;EACAE,KAAKA,CAACC,IAAI,EAAE;IACR,OAAO,IAAI;EACf;EACAC,UAAUA,CAAA,EAAG;IACT,IAAI,CAACH,UAAU,GAAG,KAAK;IACvB,IAAI,IAAI,CAACI,MAAM,EAAE;MACb,MAAMA,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC,CAAC;MAC5B,MAAMC,OAAO,GAAGC,UAAU,CAAC,MAAM;QAC7BX,KAAK,CAAC,wCAAwC,EAAES,MAAM,CAACG,aAAa,EAAEH,MAAM,CAACI,UAAU,CAAC;QACxFJ,MAAM,CAACK,OAAO,CAAC,CAAC;MACpB,CAAC,EAAE,IAAI,CAACV,iBAAiB,CAAC;MAC1BK,MAAM,CAACM,EAAE,CAAC,OAAO,EAAE,MAAMC,YAAY,CAACN,OAAO,CAAC,CAAC;MAC/CD,MAAM,CAACQ,GAAG,CAAC,CAAC;IAChB;EACJ;AACJ;AACArB,OAAO,CAACsB,OAAO,GAAGhB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}