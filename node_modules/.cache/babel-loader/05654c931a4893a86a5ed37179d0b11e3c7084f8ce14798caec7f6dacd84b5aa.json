{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pushQueryArguments = void 0;\nconst CONFIG_GET = require(\"./CONFIG_GET\");\nconst CONFIG_SET = require(\"./CONFIG_SET\");\n;\nconst DELETE = require(\"./DELETE\");\nconst EXPLAIN = require(\"./EXPLAIN\");\nconst LIST = require(\"./LIST\");\nconst PROFILE = require(\"./PROFILE\");\nconst QUERY = require(\"./QUERY\");\nconst RO_QUERY = require(\"./RO_QUERY\");\nconst SLOWLOG = require(\"./SLOWLOG\");\nexports.default = {\n  CONFIG_GET,\n  configGet: CONFIG_GET,\n  CONFIG_SET,\n  configSet: CONFIG_SET,\n  DELETE,\n  delete: DELETE,\n  EXPLAIN,\n  explain: EXPLAIN,\n  LIST,\n  list: LIST,\n  PROFILE,\n  profile: PROFILE,\n  QUERY,\n  query: QUERY,\n  RO_QUERY,\n  roQuery: RO_QUERY,\n  SLOWLOG,\n  slowLog: SLOWLOG\n};\nfunction pushQueryArguments(args, graph, query, options, compact) {\n  args.push(graph);\n  if (typeof options === 'number') {\n    args.push(query);\n    pushTimeout(args, options);\n  } else {\n    args.push(options?.params ? `CYPHER ${queryParamsToString(options.params)} ${query}` : query);\n    if (options?.TIMEOUT !== undefined) {\n      pushTimeout(args, options.TIMEOUT);\n    }\n  }\n  if (compact) {\n    args.push('--compact');\n  }\n  return args;\n}\nexports.pushQueryArguments = pushQueryArguments;\nfunction pushTimeout(args, timeout) {\n  args.push('TIMEOUT', timeout.toString());\n}\nfunction queryParamsToString(params) {\n  const parts = [];\n  for (const [key, value] of Object.entries(params)) {\n    parts.push(`${key}=${queryParamToString(value)}`);\n  }\n  return parts.join(' ');\n}\nfunction queryParamToString(param) {\n  if (param === null) {\n    return 'null';\n  }\n  switch (typeof param) {\n    case 'string':\n      return `\"${param.replace(/[\"\\\\]/g, '\\\\$&')}\"`;\n    case 'number':\n    case 'boolean':\n      return param.toString();\n  }\n  if (Array.isArray(param)) {\n    return `[${param.map(queryParamToString).join(',')}]`;\n  } else if (typeof param === 'object') {\n    const body = [];\n    for (const [key, value] of Object.entries(param)) {\n      body.push(`${key}:${queryParamToString(value)}`);\n    }\n    return `{${body.join(',')}}`;\n  } else {\n    throw new TypeError(`Unexpected param type ${typeof param} ${param}`);\n  }\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","pushQueryArguments","CONFIG_GET","require","CONFIG_SET","DELETE","EXPLAIN","LIST","PROFILE","QUERY","RO_QUERY","SLOWLOG","default","configGet","configSet","delete","explain","list","profile","query","roQuery","slowLog","args","graph","options","compact","push","pushTimeout","params","queryParamsToString","TIMEOUT","undefined","timeout","toString","parts","key","entries","queryParamToString","join","param","replace","Array","isArray","map","body","TypeError"],"sources":["C:/rgraph/node_modules/@redis/graph/dist/commands/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pushQueryArguments = void 0;\nconst CONFIG_GET = require(\"./CONFIG_GET\");\nconst CONFIG_SET = require(\"./CONFIG_SET\");\n;\nconst DELETE = require(\"./DELETE\");\nconst EXPLAIN = require(\"./EXPLAIN\");\nconst LIST = require(\"./LIST\");\nconst PROFILE = require(\"./PROFILE\");\nconst QUERY = require(\"./QUERY\");\nconst RO_QUERY = require(\"./RO_QUERY\");\nconst SLOWLOG = require(\"./SLOWLOG\");\nexports.default = {\n    CONFIG_GET,\n    configGet: CONFIG_GET,\n    CONFIG_SET,\n    configSet: CONFIG_SET,\n    DELETE,\n    delete: DELETE,\n    EXPLAIN,\n    explain: EXPLAIN,\n    LIST,\n    list: LIST,\n    PROFILE,\n    profile: PROFILE,\n    QUERY,\n    query: QUERY,\n    RO_QUERY,\n    roQuery: RO_QUERY,\n    SLOWLOG,\n    slowLog: SLOWLOG\n};\nfunction pushQueryArguments(args, graph, query, options, compact) {\n    args.push(graph);\n    if (typeof options === 'number') {\n        args.push(query);\n        pushTimeout(args, options);\n    }\n    else {\n        args.push(options?.params ?\n            `CYPHER ${queryParamsToString(options.params)} ${query}` :\n            query);\n        if (options?.TIMEOUT !== undefined) {\n            pushTimeout(args, options.TIMEOUT);\n        }\n    }\n    if (compact) {\n        args.push('--compact');\n    }\n    return args;\n}\nexports.pushQueryArguments = pushQueryArguments;\nfunction pushTimeout(args, timeout) {\n    args.push('TIMEOUT', timeout.toString());\n}\nfunction queryParamsToString(params) {\n    const parts = [];\n    for (const [key, value] of Object.entries(params)) {\n        parts.push(`${key}=${queryParamToString(value)}`);\n    }\n    return parts.join(' ');\n}\nfunction queryParamToString(param) {\n    if (param === null) {\n        return 'null';\n    }\n    switch (typeof param) {\n        case 'string':\n            return `\"${param.replace(/[\"\\\\]/g, '\\\\$&')}\"`;\n        case 'number':\n        case 'boolean':\n            return param.toString();\n    }\n    if (Array.isArray(param)) {\n        return `[${param.map(queryParamToString).join(',')}]`;\n    }\n    else if (typeof param === 'object') {\n        const body = [];\n        for (const [key, value] of Object.entries(param)) {\n            body.push(`${key}:${queryParamToString(value)}`);\n        }\n        return `{${body.join(',')}}`;\n    }\n    else {\n        throw new TypeError(`Unexpected param type ${typeof param} ${param}`);\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}