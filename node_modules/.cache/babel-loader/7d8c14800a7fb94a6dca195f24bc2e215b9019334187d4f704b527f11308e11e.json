{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst utils_1 = require(\"./utils\");\nfunction throwLater(e) {\n  setTimeout(function () {\n    throw e;\n  }, 0);\n}\nfunction asCallback(promise, nodeback, options) {\n  if (typeof nodeback === \"function\") {\n    promise.then(val => {\n      let ret;\n      if (options !== undefined && Object(options).spread && Array.isArray(val)) {\n        ret = utils_1.tryCatch(nodeback).apply(undefined, [null].concat(val));\n      } else {\n        ret = val === undefined ? utils_1.tryCatch(nodeback)(null) : utils_1.tryCatch(nodeback)(null, val);\n      }\n      if (ret === utils_1.errorObj) {\n        throwLater(ret.e);\n      }\n    }, cause => {\n      if (!cause) {\n        const newReason = new Error(cause + \"\");\n        Object.assign(newReason, {\n          cause\n        });\n        cause = newReason;\n      }\n      const ret = utils_1.tryCatch(nodeback)(cause);\n      if (ret === utils_1.errorObj) {\n        throwLater(ret.e);\n      }\n    });\n  }\n  return promise;\n}\nexports.default = asCallback;","map":{"version":3,"names":["Object","defineProperty","exports","value","utils_1","require","throwLater","e","setTimeout","asCallback","promise","nodeback","options","then","val","ret","undefined","spread","Array","isArray","tryCatch","apply","concat","errorObj","cause","newReason","Error","assign","default"],"sources":["C:/rgraph/node_modules/standard-as-callback/built/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils_1 = require(\"./utils\");\nfunction throwLater(e) {\n    setTimeout(function () {\n        throw e;\n    }, 0);\n}\nfunction asCallback(promise, nodeback, options) {\n    if (typeof nodeback === \"function\") {\n        promise.then((val) => {\n            let ret;\n            if (options !== undefined &&\n                Object(options).spread &&\n                Array.isArray(val)) {\n                ret = utils_1.tryCatch(nodeback).apply(undefined, [null].concat(val));\n            }\n            else {\n                ret =\n                    val === undefined\n                        ? utils_1.tryCatch(nodeback)(null)\n                        : utils_1.tryCatch(nodeback)(null, val);\n            }\n            if (ret === utils_1.errorObj) {\n                throwLater(ret.e);\n            }\n        }, (cause) => {\n            if (!cause) {\n                const newReason = new Error(cause + \"\");\n                Object.assign(newReason, { cause });\n                cause = newReason;\n            }\n            const ret = utils_1.tryCatch(nodeback)(cause);\n            if (ret === utils_1.errorObj) {\n                throwLater(ret.e);\n            }\n        });\n    }\n    return promise;\n}\nexports.default = asCallback;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,SAASC,UAAUA,CAACC,CAAC,EAAE;EACnBC,UAAU,CAAC,YAAY;IACnB,MAAMD,CAAC;EACX,CAAC,EAAE,CAAC,CAAC;AACT;AACA,SAASE,UAAUA,CAACC,OAAO,EAAEC,QAAQ,EAAEC,OAAO,EAAE;EAC5C,IAAI,OAAOD,QAAQ,KAAK,UAAU,EAAE;IAChCD,OAAO,CAACG,IAAI,CAAEC,GAAG,IAAK;MAClB,IAAIC,GAAG;MACP,IAAIH,OAAO,KAAKI,SAAS,IACrBhB,MAAM,CAACY,OAAO,CAAC,CAACK,MAAM,IACtBC,KAAK,CAACC,OAAO,CAACL,GAAG,CAAC,EAAE;QACpBC,GAAG,GAAGX,OAAO,CAACgB,QAAQ,CAACT,QAAQ,CAAC,CAACU,KAAK,CAACL,SAAS,EAAE,CAAC,IAAI,CAAC,CAACM,MAAM,CAACR,GAAG,CAAC,CAAC;MACzE,CAAC,MACI;QACDC,GAAG,GACCD,GAAG,KAAKE,SAAS,GACXZ,OAAO,CAACgB,QAAQ,CAACT,QAAQ,CAAC,CAAC,IAAI,CAAC,GAChCP,OAAO,CAACgB,QAAQ,CAACT,QAAQ,CAAC,CAAC,IAAI,EAAEG,GAAG,CAAC;MACnD;MACA,IAAIC,GAAG,KAAKX,OAAO,CAACmB,QAAQ,EAAE;QAC1BjB,UAAU,CAACS,GAAG,CAACR,CAAC,CAAC;MACrB;IACJ,CAAC,EAAGiB,KAAK,IAAK;MACV,IAAI,CAACA,KAAK,EAAE;QACR,MAAMC,SAAS,GAAG,IAAIC,KAAK,CAACF,KAAK,GAAG,EAAE,CAAC;QACvCxB,MAAM,CAAC2B,MAAM,CAACF,SAAS,EAAE;UAAED;QAAM,CAAC,CAAC;QACnCA,KAAK,GAAGC,SAAS;MACrB;MACA,MAAMV,GAAG,GAAGX,OAAO,CAACgB,QAAQ,CAACT,QAAQ,CAAC,CAACa,KAAK,CAAC;MAC7C,IAAIT,GAAG,KAAKX,OAAO,CAACmB,QAAQ,EAAE;QAC1BjB,UAAU,CAACS,GAAG,CAACR,CAAC,CAAC;MACrB;IACJ,CAAC,CAAC;EACN;EACA,OAAOG,OAAO;AAClB;AACAR,OAAO,CAAC0B,OAAO,GAAGnB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}