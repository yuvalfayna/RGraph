{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction isSentinelEql(a, b) {\n  return (a.host || \"127.0.0.1\") === (b.host || \"127.0.0.1\") && (a.port || 26379) === (b.port || 26379);\n}\nclass SentinelIterator {\n  constructor(sentinels) {\n    this.cursor = 0;\n    this.sentinels = sentinels.slice(0);\n  }\n  next() {\n    const done = this.cursor >= this.sentinels.length;\n    return {\n      done,\n      value: done ? undefined : this.sentinels[this.cursor++]\n    };\n  }\n  reset(moveCurrentEndpointToFirst) {\n    if (moveCurrentEndpointToFirst && this.sentinels.length > 1 && this.cursor !== 1) {\n      this.sentinels.unshift(...this.sentinels.splice(this.cursor - 1));\n    }\n    this.cursor = 0;\n  }\n  add(sentinel) {\n    for (let i = 0; i < this.sentinels.length; i++) {\n      if (isSentinelEql(sentinel, this.sentinels[i])) {\n        return false;\n      }\n    }\n    this.sentinels.push(sentinel);\n    return true;\n  }\n  toString() {\n    return `${JSON.stringify(this.sentinels)} @${this.cursor}`;\n  }\n}\nexports.default = SentinelIterator;","map":{"version":3,"names":["Object","defineProperty","exports","value","isSentinelEql","a","b","host","port","SentinelIterator","constructor","sentinels","cursor","slice","next","done","length","undefined","reset","moveCurrentEndpointToFirst","unshift","splice","add","sentinel","i","push","toString","JSON","stringify","default"],"sources":["C:/rgraph/node_modules/ioredis/built/connectors/SentinelConnector/SentinelIterator.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isSentinelEql(a, b) {\n    return ((a.host || \"127.0.0.1\") === (b.host || \"127.0.0.1\") &&\n        (a.port || 26379) === (b.port || 26379));\n}\nclass SentinelIterator {\n    constructor(sentinels) {\n        this.cursor = 0;\n        this.sentinels = sentinels.slice(0);\n    }\n    next() {\n        const done = this.cursor >= this.sentinels.length;\n        return { done, value: done ? undefined : this.sentinels[this.cursor++] };\n    }\n    reset(moveCurrentEndpointToFirst) {\n        if (moveCurrentEndpointToFirst &&\n            this.sentinels.length > 1 &&\n            this.cursor !== 1) {\n            this.sentinels.unshift(...this.sentinels.splice(this.cursor - 1));\n        }\n        this.cursor = 0;\n    }\n    add(sentinel) {\n        for (let i = 0; i < this.sentinels.length; i++) {\n            if (isSentinelEql(sentinel, this.sentinels[i])) {\n                return false;\n            }\n        }\n        this.sentinels.push(sentinel);\n        return true;\n    }\n    toString() {\n        return `${JSON.stringify(this.sentinels)} @${this.cursor}`;\n    }\n}\nexports.default = SentinelIterator;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,SAASC,aAAaA,CAACC,CAAC,EAAEC,CAAC,EAAE;EACzB,OAAQ,CAACD,CAAC,CAACE,IAAI,IAAI,WAAW,OAAOD,CAAC,CAACC,IAAI,IAAI,WAAW,CAAC,IACvD,CAACF,CAAC,CAACG,IAAI,IAAI,KAAK,OAAOF,CAAC,CAACE,IAAI,IAAI,KAAK,CAAC;AAC/C;AACA,MAAMC,gBAAgB,CAAC;EACnBC,WAAWA,CAACC,SAAS,EAAE;IACnB,IAAI,CAACC,MAAM,GAAG,CAAC;IACf,IAAI,CAACD,SAAS,GAAGA,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC;EACvC;EACAC,IAAIA,CAAA,EAAG;IACH,MAAMC,IAAI,GAAG,IAAI,CAACH,MAAM,IAAI,IAAI,CAACD,SAAS,CAACK,MAAM;IACjD,OAAO;MAAED,IAAI;MAAEZ,KAAK,EAAEY,IAAI,GAAGE,SAAS,GAAG,IAAI,CAACN,SAAS,CAAC,IAAI,CAACC,MAAM,EAAE;IAAE,CAAC;EAC5E;EACAM,KAAKA,CAACC,0BAA0B,EAAE;IAC9B,IAAIA,0BAA0B,IAC1B,IAAI,CAACR,SAAS,CAACK,MAAM,GAAG,CAAC,IACzB,IAAI,CAACJ,MAAM,KAAK,CAAC,EAAE;MACnB,IAAI,CAACD,SAAS,CAACS,OAAO,CAAC,GAAG,IAAI,CAACT,SAAS,CAACU,MAAM,CAAC,IAAI,CAACT,MAAM,GAAG,CAAC,CAAC,CAAC;IACrE;IACA,IAAI,CAACA,MAAM,GAAG,CAAC;EACnB;EACAU,GAAGA,CAACC,QAAQ,EAAE;IACV,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACb,SAAS,CAACK,MAAM,EAAEQ,CAAC,EAAE,EAAE;MAC5C,IAAIpB,aAAa,CAACmB,QAAQ,EAAE,IAAI,CAACZ,SAAS,CAACa,CAAC,CAAC,CAAC,EAAE;QAC5C,OAAO,KAAK;MAChB;IACJ;IACA,IAAI,CAACb,SAAS,CAACc,IAAI,CAACF,QAAQ,CAAC;IAC7B,OAAO,IAAI;EACf;EACAG,QAAQA,CAAA,EAAG;IACP,OAAO,GAAGC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACjB,SAAS,CAAC,KAAK,IAAI,CAACC,MAAM,EAAE;EAC9D;AACJ;AACAV,OAAO,CAAC2B,OAAO,GAAGpB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}